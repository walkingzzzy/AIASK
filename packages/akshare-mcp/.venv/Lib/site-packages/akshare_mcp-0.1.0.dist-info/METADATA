Metadata-Version: 2.4
Name: akshare-mcp
Version: 0.1.0
Summary: AKShare MCP Server - 提供A股数据服务
Requires-Python: >=3.10
Requires-Dist: akshare>=1.10.0
Requires-Dist: baostock>=0.8.8
Requires-Dist: efinance>=0.5.5
Requires-Dist: mcp>=1.0.0
Requires-Dist: pandas>=2.0.0
Requires-Dist: pydantic>=2.0.0
Requires-Dist: tushare>=1.4.0
Description-Content-Type: text/markdown

# AKShare MCP Server

基于 AKShare 的 MCP Server，提供 A 股数据服务。

## 功能

- 实时行情：单只/批量股票行情
- K线数据：日线/周线/月线
- 财务数据：财务指标分析
- 北向资金：沪深港通资金流向
- 板块资金：行业/概念板块资金流向
- 龙虎榜：每日龙虎榜数据
- 融资融券：市场两融数据
- 指数行情：主要指数实时行情
- 股票信息：基本信息查询

## 安装

```bash
cd packages/akshare-mcp
pip install -e .
```

或使用 uv：

```bash
uv pip install -e .
```

## 运行

```bash
akshare-mcp
```

或：

```bash
python -m akshare_mcp.server
```

## MCP 配置

在 `.kiro/settings/mcp.json` 中添加：

```json
{
  "mcpServers": {
    "akshare": {
      "command": "akshare-mcp",
      "args": [],
      "disabled": false
    }
  }
}
```

或使用 uvx（推荐）：

```json
{
  "mcpServers": {
    "akshare": {
      "command": "uvx",
      "args": ["--from", "packages/akshare-mcp", "akshare-mcp"],
      "disabled": false
    }
  }
}
```

## 北向资金数据源说明

北向资金优先使用 Tushare（稳定），其次使用港交所公开日度数据（若可解析），最后才回退到东方财富历史接口。

可选环境变量：

- `TUSHARE_TOKEN`: Tushare Pro token（建议在运行环境里设置，不要写入仓库）
- `NORTH_FUND_STALE_DAYS`: 数据允许的最大滞后天数（默认 5）
- `NORTH_FUND_DAILY_QUOTA`: 北向资金日额度（人民币元，默认 52000000000）
- `HKEX_DAILY_STAT_URL`: 港交所日度数据 URL 模板（默认 `https://www.hkex.com.hk/eng/csm/DailyStat/data_tab_daily_{date}e.js`，`{date}`=YYYYMMDD）

## 可用工具

| 工具名 | 描述 |
|--------|------|
| get_stock_list | 获取A股股票列表 |
| get_realtime_quote | 获取单只股票实时行情 |
| get_batch_quotes | 批量获取股票实时行情 |
| get_kline | 获取K线数据 |
| get_financials | 获取财务指标数据 |
| get_north_fund | 获取北向资金数据 |
| get_sector_fund_flow | 获取行业板块资金流向 |
| get_concept_fund_flow | 获取概念板块资金流向 |
| get_dragon_tiger | 获取龙虎榜数据 |
| get_margin_data | 获取融资融券数据 |
| get_index_quote | 获取指数实时行情 |
| get_stock_info | 获取股票基本信息 |
